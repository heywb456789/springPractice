<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>비디오 등록/수정 - 나라 걱정 클럽 관리자</title>
</head>
<body>

<th:block th:fragment="content">
    <!-- 비디오 등록/수정 폼 -->
    <div class="row">
        <div class="col-12">
            <div class="card">
                <div class="card-body">
                    <form th:action="${video.id != null} ? @{/admin/videos/{id}/update(id=${video.id})} : @{/admin/videos/store}" 
                          method="post" 
                          enctype="multipart/form-data" 
                          id="videoForm">
                        
                        <div class="row">
                            <!-- 비디오 기본 정보 -->
                            <div class="col-xl-8 col-lg-7">
                                <!-- 제목 -->
                                <div class="mb-3">
                                    <label for="videoTitle" class="form-label">제목 <span class="text-danger">*</span></label>
                                    <input type="text" class="form-control" id="videoTitle" name="title"
                                           th:value="${video != null} ? ${video.title} : ''" 
                                           placeholder="비디오 제목을 입력하세요" required>
                                </div>

                                <!-- 설명 -->
                                <div class="mb-3">
                                    <label for="videoDescription" class="form-label">설명</label>
                                    <textarea class="form-control" id="videoDescription" name="description" rows="5"
                                              placeholder="비디오에 대한 설명을 입력하세요" th:text="${video != null} ? ${video.description} : ''"></textarea>
                                </div>

                                <!-- 비디오 URL -->
                                <div class="mb-3">
                                    <label for="videoUrl" class="form-label">비디오 URL <span class="text-danger">*</span></label>
                                    <input type="text" class="form-control" id="videoUrl" name="videoUrl"
                                           th:value="${video != null} ? ${video.videoUrl} : ''" 
                                           placeholder="유튜브 URL 또는 비디오 파일 경로" required>
                                    <small class="text-muted">예: https://www.youtube.com/watch?v=XXXXXX 또는 /videos/sample.mp4</small>
                                </div>

                                <!-- 태그 -->
                                <div class="mb-3">
                                    <label for="videoTags" class="form-label">태그</label>
                                    <select class="form-control select2-multiple" id="videoTags" name="tags[]" data-toggle="select2" multiple>
                                        <option value="정치" th:selected="${video != null && video.tags != null && video.tags.contains('정치')}">정치</option>
                                        <option value="경제" th:selected="${video != null && video.tags != null && video.tags.contains('경제')}">경제</option>
                                        <option value="사회" th:selected="${video != null && video.tags != null && video.tags.contains('사회')}">사회</option>
                                        <option value="안보" th:selected="${video != null && video.tags != null && video.tags.contains('안보')}">안보</option>
                                        <option value="외교" th:selected="${video != null && video.tags != null && video.tags.contains('외교')}">외교</option>
                                        <option value="교육" th:selected="${video != null && video.tags != null && video.tags.contains('교육')}">교육</option>
                                        <option value="문화" th:selected="${video != null && video.tags != null && video.tags.contains('문화')}">문화</option>