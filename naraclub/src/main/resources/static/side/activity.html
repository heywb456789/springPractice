<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">
  <title>토마토 뉴스 - 활동 내역 업로드</title>
  <link href="/bootstrap/css/bootstrap.css" rel="stylesheet"/>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <link href="/css/common.css" rel="stylesheet"/>
  <link href="/css/side/activity.css" rel="stylesheet"/>
  <script src="/bootstrap/js/bootstrap.bundle.js"></script>
  <script src="/js/common.js" type="module"></script>
  <script src="/js/side/activity.js" type="module"></script>
  <!-- 인증이 필요한 페이지입니다 -->
</head>
<body>
  <!-- 공통 컴포넌트 컨테이너 -->
  <div id="side-menu-container"></div>

  <div class="main-container">
    <!-- 공통 헤더 컨테이너 -->
    <div id="header-container"></div>

    <!-- 공통 탭 메뉴 컨테이너 -->
    <div id="tab-menu-container"></div>

    <!-- 활동 내역 페이지 컨텐츠 -->
    <div class="activity-container">
      <div class="activity-header">
        <h2 class="page-title">활동 내역</h2>
        <p class="page-description">
          콘텐츠 제작과 참여 활동에 대한 리워드 내역을 확인하세요.<br/>
          '지급 검토중' 상태의 활동만 삭제할 수 있습니다.
        </p>
        <div id="authError" class="auth-error" style="display: none;">
          <p><i class="fas fa-exclamation-triangle"></i> 로그인이 필요한 서비스입니다.</p>
          <button id="goToLoginBtn" class="btn btn-primary btn-sm">로그인 하기</button>
        </div>
      </div>

      <!-- 활동 내역 테이블 -->
      <div class="activity-content">
        <table class="activity-table" id="activityTable">
          <thead>
            <tr>
              <th>제목</th>
              <th>링크</th>
              <th>등록일</th>
              <th>상태</th>
              <th>관리</th>
            </tr>
          </thead>
          <tbody>
            <!-- JavaScript로 테이블 내용이 채워집니다 -->
          </tbody>
        </table>

        <!-- 활동 내역이 없을 때 표시될 메시지 -->
        <div id="emptyActivity" class="empty-activity">
          <p>등록된 활동 내역이 없습니다.</p>
          <p class="empty-activity-sub">우측 하단의 업로드 버튼을 눌러 활동을 등록해보세요.</p>
        </div>

        <!-- 페이지네이션 영역 -->
        <div class="pagination-container">
          <div id="pageInfo" class="page-info">전체 0개</div>
          <ul id="pagination" class="pagination"></ul>
        </div>
      </div>

      <!-- 업로드 버튼 -->
      <div class="upload-button-container">
        <button id="uploadButton" class="upload-button">
          <i class="fas fa-plus"></i> 업로드
        </button>
      </div>
    </div>
  </div>

  <!-- 활동 등록 모달 창 -->
  <div class="modal fade" id="activityModal" tabindex="-1" aria-labelledby="activityModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="activityModalLabel">활동 내역 등록</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
          <form id="activityForm">
            <div class="mb-3">
              <label for="activityTitle" class="form-label">제목</label>
              <input type="text" class="form-control" id="activityTitle" placeholder="활동 제목을 입력하세요" required>
            </div>
            <div class="mb-3">
              <label for="activityLink" class="form-label">링크</label>
              <input type="url" class="form-control" id="activityLink" placeholder="링크를 입력하세요 (https://...)" required>
            </div>
            <div class="form-text">
              <i class="fas fa-info-circle me-1"></i>
              제출한 활동은 검토 후 리워드가 지급됩니다.
            </div>
          </form>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">취소</button>
          <button type="button" class="btn btn-primary" id="saveActivity">등록</button>
        </div>
      </div>
    </div>
  </div>

  <!-- 완료 모달 -->
  <div class="modal fade" id="completionModal" tabindex="-1" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
      <div class="modal-content">
        <div class="modal-body text-center py-4">
          <i class="fas fa-check-circle text-success mb-3" style="font-size: 48px;"></i>
          <p class="completion-message">완료되었습니다.</p>
          <p class="completion-submessage">등록한 활동은 검토 후 리워드가 지급됩니다.</p>
          <button type="button" class="btn btn-primary mt-3" data-bs-dismiss="modal">확인</button>
        </div>
      </div>
    </div>
  </div>
</body>
</html>